"use strict";(self.webpackChunkgetfit=self.webpackChunkgetfit||[]).push([[390],{316:function(e,r){r.Z=function(e){var r=new Date(e),t=r.getMonth(),a=r.getDate(),n=r.getFullYear();return"".concat({0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"June",6:"July",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"}[t]," ").concat(a,", ").concat(n)}},202:function(e,r,t){t.r(r),t.d(r,{default:function(){return Z}});var a=t(214),n=t(861),s=t(885),o=t(791),l=t(306),i=t(947),u=t(184),c=function(e){var r;return r="benchPress"===e.exercise?"Bench Press":"squat"===e.exercise?"Squat":"deadlift"===e.exercise?"Deadlift":"Overhead Press",(0,u.jsx)("li",{children:(0,u.jsx)(i.Z,{className:"mx-2 p-6 rounded-lg border border-gray-2 overflow-x-auto scroll-pt-8 w-52 text-xl",headerClass:"font-bold text-xl border-b mb-4 pb-2",header:r,children:(0,u.jsxs)("h1",{children:[e.weight," lbs"]})})})},d=function(e){var r=e.lifts,t=[];for(var a in r)t.push([a,r[a]]);var n=t.map((function(e){return(0,u.jsx)(c,{exercise:e[0],weight:e[1]},e[0])}));return(0,u.jsx)("div",{children:(0,u.jsx)("ul",{className:"flex overflow-x-auto pb-4 lg:pb-2",children:n})})},x=t(504),h=t(316),f=function(e){var r=e.dateCreated,t=(0,h.Z)(r),a=(0,u.jsxs)("div",{className:"flex items-baseline justify-between truncate max-w-full",children:[(0,u.jsx)("p",{className:"truncate",children:e.workoutTitle}),(0,u.jsx)("p",{className:"text-sm italic font-normal text-black/60",children:t})]});return(0,u.jsx)("li",{children:(0,u.jsx)(x.rU,{to:"/workout/".concat(e.id,"/view"),children:(0,u.jsx)(i.Z,{className:"my-2 p-6 rounded-lg border border-gray-2 text-xl",header:a,headerClass:"font-bold text-3xl border-b mb-4 pb-2",children:(0,u.jsx)("p",{children:"".concat(e.exercises.length," Exercises")})})})})},p=function(e){var r=e.workouts.map((function(e){return(0,u.jsx)(f,{id:e._id,workoutTitle:e.workoutTitle,exercises:e.exercises,dateCreated:e.created_at},e.workoutTitle)}));return(0,u.jsx)("div",{children:(0,u.jsx)("ul",{children:r.reverse().slice(0,3)})})},v=t(353),b=t(891),m=t(348),j=t(391),g=t(636),w=function(e){var r=e.mainLifts;return(0,u.jsxs)("div",{children:[(0,u.jsx)(g.Z,{id:"benchPress",label:"Your Bench Max",type:"number",placeholder:"Enter your bench max.",errorText:"Please enter a max!",value:r.benchPress||null}),(0,u.jsx)(g.Z,{id:"squat",label:"Your Squat Max",type:"number",placeholder:"Enter your Squat max.",errorText:"Please enter a max!",value:r.squat||null}),(0,u.jsx)(g.Z,{id:"deadlift",label:"Your Deadlift Max",type:"number",placeholder:"Enter your deadlift max.",errorText:"Please enter a max!",value:r.deadlift||null}),(0,u.jsx)(g.Z,{id:"overHeadPress",label:"Your Overhead Press Max",type:"number",placeholder:"Enter your overhead press max.",errorText:"Please enter a max!",value:r.overHeadPress||null})]})},k=t(493),y=function(e){var r=(0,o.useContext)(k.V),t=(0,m.i)(),s=t.hasError,i=t.sendRequest,c=t.clearError,d=e.user,x=e.mainLifts,h=function(){var t=(0,n.Z)((0,a.Z)().mark((function t(n){var s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),s={benchPress:n.target[0].value,squat:n.target[1].value,deadlift:n.target[2].value,overHeadPress:n.target[3].value},t.prev=2,t.next=5,i("".concat("https://mcghee-getfit.herokuapp.com","/user/").concat(d._id,"/updateInfo"),"POST",{"Content-Type":"application/json",Authorization:"Bearer "+r.token},JSON.stringify({benchPress:s.benchPress,squat:s.squat,deadlift:s.deadlift,overHeadPress:s.overHeadPress}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log("Error updating main lifts: ".concat(t.t0));case 10:e.onUpdate(s);case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),f=(0,u.jsxs)("div",{className:"flex justify-end mt-3 shrink border-top-2",children:[(0,u.jsx)(l.Z,{text:"Nevermind",type:"button",onClick:e.onCancel,className:"button border border-gray-1 mr-2 rounded-md shadow hover:cursor-pointer hover:scale-105 bg-red-500 text-white/75 hover:text-white hover:bg-red-600"}),(0,u.jsx)(l.Z,{text:"Save Changes",type:"submit"})]});return(0,u.jsx)(j.Z,{header:"Update User Info",show:e.show,error:s,clearError:c,children:(0,u.jsxs)("form",{onSubmit:h,children:[(0,u.jsx)(w,{user:d,mainLifts:x}),f]})})},Z=function(e){var r=(0,o.useContext)(k.V),t=(0,o.useState)(null),c=(0,s.Z)(t,2),x=c[0],h=c[1],f=(0,o.useState)({}),j=(0,s.Z)(f,2),g=j[0],w=j[1],Z=(0,o.useState)([]),P=(0,s.Z)(Z,2),C=P[0],E=P[1],N=(0,o.useState)(!1),S=(0,s.Z)(N,2),q=S[0],T=S[1],L=(0,m.i)(),M=L.isLoading,Y=L.hasError,A=L.sendRequest,D=L.clearError;(0,o.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("".concat("https://mcghee-getfit.herokuapp.com","/"),"GET",{Authorization:"Bearer "+r.token});case 3:t=e.sent,h(t.user),w(t.user.mainLiftMaxes),E(t.workouts),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error!!! ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[A,r.token]);var O=(0,u.jsx)(l.Z,{type:"button",text:C.length>0?"View All Workouts":"Create a Workout",link:C.length>0?"/workout/all":"/workout/create"}),U=(0,u.jsx)(l.Z,{type:"button",text:"Update Lifts",onClick:function(){T(!0)}});return(0,u.jsxs)("div",{className:"homepage-container",children:[(0,u.jsx)(b.Z,{error:Y,onClear:D}),M&&(0,u.jsx)("div",{children:(0,u.jsx)(v.Z,{asOverlay:!0})}),q&&(0,u.jsx)(y,{user:x,mainLifts:g,show:q,onCancel:function(){T(!1)},onUpdate:function(e){w(e),T(!1)}}),(0,u.jsx)(i.Z,{header:(0,u.jsx)("h1",{children:"Your Main Lifts"}),footer:U,children:(0,u.jsx)(d,{lifts:g})}),(0,u.jsx)(i.Z,{header:(0,u.jsx)("h1",{children:"Latest Workouts"}),footer:O,children:C.length>0?(0,u.jsx)(p,{workouts:C}):(0,u.jsx)("p",{children:"You don't have any workouts yet. Add one?"})})]})}}}]);
//# sourceMappingURL=390.92c82ef1.chunk.js.map